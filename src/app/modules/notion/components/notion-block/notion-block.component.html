@if (notionBlock.properties) {
  @switch (notionBlock.type) {
    @case ("bulleted_list") {
      <li>
        {{ notionBlock.properties.title[0] }}
      </li>
    }
    @case ("numbered_list") {
      <li class="list-none">
        {{ numberedListPosition }}. {{ notionBlock.properties.title[0] }}
      </li>
    }
    @case ("page") {}
    @case ("collection_view_page") {}
    @case ("header") {
      <h1>{{ notionBlock.properties.title[0] }}</h1>
    }
    @case ("sub_header") {
      <h2>{{ notionBlock.properties.title[0] }}</h2>
    }
    @case ("sub_sub_header") {
      <h3>{{ notionBlock.properties.title[0] }}</h3>
    }
    @case ("quote") {
      <div
        class="h-7 px-4 flex items-center border-s-2 border-slate-800 dark:border-slate-200"
      >
        <blockquote>{{ notionBlock.properties.title[0] }}</blockquote>
      </div>
    }
    @case ("text") {
      @if (
        notionBlock.properties.title[0].length > 1 &&
        notionBlock.properties.title[0][1][0] == "b"
      ) {
        <p class="font-bold">{{ notionBlock.properties.title[0][0] }}</p>
      } @else if (
        notionBlock.properties.title[0].length > 1 &&
        notionBlock.properties.title[0][1][0] == "i"
      ) {
        <p class="italic">{{ notionBlock.properties.title[0][0] }}</p>
      } @else if (
        notionBlock.properties.title[0].length > 1 &&
        notionBlock.properties.title[0][1][0][0] == "a"
      ) {
        <a
          target="_blank"
          [title]="notionBlock.properties.title[0][1][0][1]"
          [href]="notionBlock.properties.title[0][1][0][1]"
          class="underline text-slate-700 dark:text-slate-400"
          >{{ notionBlock.properties.title[0][0] }}</a
        >
      } @else if (
        notionBlock.properties.title[0].length > 1 &&
        notionBlock.properties.title[0][1][0] == "_"
      ) {
        <p class="underline">{{ notionBlock.properties.title[0][0] }}</p>
      } @else if (
        notionBlock.properties.title[0].length > 1 &&
        notionBlock.properties.title[0][1][0] == "s"
      ) {
        <p class="line-through">{{ notionBlock.properties.title[0][0] }}</p>
      } @else if (
        notionBlock.properties.title[0].length > 1 &&
        notionBlock.properties.title[0][1][0] == "c"
      ) {
        <code>
          <span
            class="text-wrap px-2 py-1 rounded-md bg-red-400/50 text-red-950"
            >{{ notionBlock.properties.title[0][0] }}</span
          >
        </code>
      } @else {
        <p>{{ notionBlock.properties.title[0] }}</p>
      }
    }
    @case ("code") {
      <bm-notion-block-code [notionBlock]="notionBlock" />
    }
    @case ("to_do") {
      <div class="flex items-center gap-2">
        <input
          class="h-4 w-4"
          type="checkbox"
          [checked]="notionBlock.properties.checked"
        />
        <p [ngClass]="notionBlock.properties.checked ? 'line-through' : ''">
          {{ notionBlock.properties.title[0] }}
        </p>
      </div>
    }
    @case ("callout") {
      <div
        class="flex items-center gap-2 p-2 bg-yellow-100/25 dark:bg-yellow-100/20 dark:text-white text-yellow-800 rounded-md"
      >
        <span>{{ notionBlock.format?.page_icon }}</span>
        <p>{{ notionBlock.properties.title[0] }}</p>
      </div>
    }
    @case ("image") {
      <bm-notion-block-image [notionBlock]="notionBlock" />
    }
    @default {
      <p>{{ notionBlock.type }}</p>
    }
  }
} @else {
  @switch (notionBlock.type) {
    @case ("divider") {
      <div class="flex-grow border-t border-gray-400"></div>
    }
    @default {
      <br />
    }
  }
}
